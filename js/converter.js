var frCrExRs = {"usd":{"name":"U.S. Dollar","rate":"1","left":"$","decimals":"2"},"eur":{"name":"Euro","rate":"0.96496709340323","left":"\u20ac","decimals":"2"},"gbp":{"name":"U.K. Pound Sterling","rate":"0.84008006767614","left":"\u00a3","decimals":"2"},"aud":{"name":"Australian Dollar","rate":"1.4915287856953","left":"A$ ","decimals":"2"},"cad":{"name":"Canadian Dollar","rate":"1.335204153643","left":"C$ ","decimals":"2"},"jpy":{"name":"Japanese Yen","rate":"139.98962708129","left":"\u00a5","decimals":"0"},"chf":{"name":"Swiss Franc","rate":"0.95237141888222","left":"CHF ","decimals":"2"},"kmf":{"name":"\tComoro franc","rate":"476.579417639","decimals":"0"},"afn":{"name":"Afghan afghani","rate":"89.013017100898","decimals":"2"},"all":{"name":"Albanian lek","rate":"113.090872808","decimals":"2"},"dzd":{"name":"Algerian Dinar","rate":"140.09244664285","decimals":"2"},"aoa":{"name":"Angolan kwanza","rate":"503.74444444443","decimals":"2"},"ars":{"name":"Argentine Peso","rate":"163.13032979895","left":"$","decimals":"2"},"amd":{"name":"Armenia Dram","rate":"395.58973930557"},"awg":{"name":"Aruban florin","rate":"1.8190827749468","decimals":"2"},"azn":{"name":"Azerbaijan Manat","rate":"1.6980908938101"},"bsd":{"name":"Bahamian Dollar","rate":"1.0063706992231","decimals":"2"},"bhd":{"name":"Bahrain Dinar","rate":"0.37729094142267","left":"BD ","decimals":"3","point":"."},"bdt":{"name":"Bangladeshi taka","rate":"106.0065580851","decimals":"2"},"bbd":{"name":"Barbadian Dollar","rate":"2.0292274639692","left":"Bds$ ","decimals":"2","point":"."},"byn":{"name":"Belarussian Ruble","rate":"2.7947601993966"},"bzd":{"name":"Belize dollar","rate":"2.0258724697261","decimals":"2"},"bob":{"name":"Bolivian Boliviano","rate":"6.9099662265887","left":"Bs. ","decimals":"2","point":"."},"bam":{"name":"Bosnia and Herzegovina convertible mark","rate":"1.8936970051376","decimals":"2"},"bwp":{"name":"Botswana Pula","rate":"13.001720676799","decimals":"2"},"brl":{"name":"Brazilian Real","rate":"5.357995653648","left":"R$","decimals":"2"},"bnd":{"name":"Brunei Dollar","rate":"1.3755575108468","decimals":"2"},"bgn":{"name":"Bulgarian Lev","rate":"1.8868533507502","decimals":"2"},"bif":{"name":"Burundian franc","rate":"2079.6788990826","decimals":"0"},"khr":{"name":"Cambodian riel","rate":"4163.1772268135","decimals":"2"},"cve":{"name":"Cape Verde escudo","rate":"106.92688679245","decimals":"0"},"xaf":{"name":"Central African CFA Franc","rate":"633.74608450759","decimals":"2"},"xpf":{"name":"CFP Franc","rate":"115.28798474253","decimals":"2"},"clp":{"name":"Chilean Peso","rate":"931.3430802596","decimals":"2"},"cny":{"name":"Chinese Yuan","rate":"7.1215274724357","decimals":"2"},"cop":{"name":"Colombian Peso","rate":"4938.5046296657","decimals":"2"},"cdf":{"name":"Congolese franc","rate":"2065.4669703872","decimals":"2"},"crc":{"name":"Costa Rican Col\u00f3n","rate":"611.94061961413","left":"\u20a1","decimals":"2","point":"."},"hrk":{"name":"Croatian Kuna","rate":"7.273800869178","decimals":"2"},"cup":{"name":"Cuban peso","rate":"1.0063706992231","decimals":"2"},"czk":{"name":"Czech Koruna","rate":"23.496263529079","right":" K\u010d","decimals":"2","point":"."},"dkk":{"name":"Danish Krone","rate":"7.1785867870617","left":"kr ","decimals":"2"},"djf":{"name":"Djiboutian franc","rate":"178.92182011918","decimals":"0"},"dop":{"name":"Dominican Peso","rate":"53.978951178118","left":"RD$ ","decimals":"2","point":"."},"xcd":{"name":"East Caribbean Dollar","rate":"2.7235972606031","decimals":"2"},"egp":{"name":"Egyptian Pound","rate":"24.510461295332","left":"E\u00a3","decimals":"2","point":"."},"ern":{"name":"Eritrean nakfa","rate":"15.152740641711","decimals":"2"},"etb":{"name":"Ethiopian birr","rate":"53.653254437868","decimals":"2"},"fjd":{"name":"Fiji Dollar","rate":"2.2302735143644","decimals":"2"},"gmd":{"name":"Gambian dalasi","rate":"63.675561797753","decimals":"2"},"gel":{"name":"Georgian lari","rate":"2.7680558118701","decimals":"2"},"ghs":{"name":"Ghanaian Cedi","rate":"14.5731276117","decimals":"2"},"gip":{"name":"Gibraltar pound","rate":"0.84274008978691","decimals":"2"},"gtq":{"name":"Guatemalan Quetzal","rate":"7.8437716262976","decimals":"2"},"gnf":{"name":"Guinean franc","rate":"8652.0992366412","decimals":"0"},"gyd":{"name":"Guyanese dollar","rate":"210.26342639829","decimals":"2"},"htg":{"name":"Haitian gourde","rate":"134.74287677468","decimals":"2"},"hnl":{"name":"Honduran Lempira","rate":"24.842191780822","decimals":"2"},"hkd":{"name":"Hong Kong Dollar","rate":"7.8228552367027","left":"HK$ ","decimals":"2"},"huf":{"name":"Hungarian Forint","rate":"393.16011995855","decimals":"2"},"isk":{"name":"Icelandic Krona","rate":"143.62893523558","decimals":"2"},"inr":{"name":"Indian Rupee","rate":"81.686859344389","decimals":"2"},"idr":{"name":"Indonesian Rupiah","rate":"15689.832146802","decimals":"2"},"irr":{"name":"Iranian rial","rate":"42033.771586221","decimals":"2"},"iqd":{"name":"Iraqi dinar","rate":"1460.6121972413","decimals":"3"},"ils":{"name":"Israeli New Sheqel","rate":"3.4635703858707","left":"\u20aa","decimals":"2"},"jmd":{"name":"Jamaican Dollar","rate":"154.7337883959","decimals":"2"},"jod":{"name":"Jordanian Dinar","rate":"0.71051744810194","left":"JD","decimals":"3","point":"."},"kzt":{"name":"Kazakhstani Tenge","rate":"461.75900536367","decimals":"2"},"kes":{"name":"Kenyan shilling","rate":"122.56224487037","decimals":"2"},"kwd":{"name":"Kuwaiti Dinar","rate":"0.3082837635212","decimals":"2"},"kgs":{"name":"Kyrgyzstan Som","rate":"83.632073942514"},"lak":{"name":"Lao kip","rate":"17370.498084291","decimals":"2"},"lbp":{"name":"Lebanese Pound","rate":"1509.4148567654","decimals":"2"},"lsl":{"name":"Lesotho loti","rate":"17.363845270011","decimals":"2"},"lrd":{"name":"Liberian dollar","rate":"155.26369863014","decimals":"2"},"lyd":{"name":"Libyan Dinar","rate":"5.0338420400565","decimals":"2"},"mop":{"name":"Macanese pataca","rate":"8.101679771265","decimals":"2"},"mkd":{"name":"Macedonian denar","rate":"59.508308613128","decimals":"2"},"mga":{"name":"Malagasy ariary","rate":"4342.6245210728","decimals":"2"},"mwk":{"name":"Malawian kwacha","rate":"1031.558589306","decimals":"2"},"myr":{"name":"Malaysian Ringgit","rate":"4.6045941368326","decimals":"2"},"mvr":{"name":"Maldivian rufiyaa","rate":"15.537011651816","decimals":"2"},"mru":{"name":"Mauritanian ouguiya","rate":"38.066330814441","decimals":"2"},"mro":{"name":"Mauritanian Ouguiya","rate":"37.925569548606","left":"UM","decimals":"2","point":"."},"mur":{"name":"Mauritian Rupee","rate":"43.931201550387","decimals":"2"},"mxn":{"name":"Mexican Peso","rate":"19.456754364816","left":"Mex$ ","decimals":"2"},"mdl":{"name":"Moldova Lei","rate":"19.166580660135"},"mnt":{"name":"Mongolian togrog","rate":"3424.2447129909","decimals":"2"},"mad":{"name":"Moroccan Dirham","rate":"10.885924810532","decimals":"2"},"mzn":{"name":"Mozambican metical","rate":"64.39914772727","decimals":"2"},"mmk":{"name":"Myanma Kyat","rate":"2110.6610800745","decimals":"2"},"nad":{"name":"Namibian dollar","rate":"17.363845270011","decimals":"2"},"npr":{"name":"Nepalese Rupee","rate":"130.43079953115","decimals":"2"},"ang":{"name":"Neth. Antillean Guilder","rate":"1.8006537159003","decimals":"2"},"twd":{"name":"New Taiwan Dollar ","rate":"31.492890891622","decimals":"2"},"tmt":{"name":"New Turkmenistan Manat","rate":"3.5009627606236"},"nzd":{"name":"New Zealand Dollar","rate":"1.6203539871203","left":"NZ$ ","decimals":"2"},"nio":{"name":"Nicaraguan C\u00f3rdoba","rate":"36.182761372705","left":"C$ ","decimals":"2","point":"."},"ngn":{"name":"Nigerian Naira","rate":"443.28730931166","left":"\u20a6"},"nok":{"name":"Norwegian Krone","rate":"10.130346174969","left":"kr ","decimals":"2"},"omr":{"name":"Omani Rial","rate":"0.38556498820675","decimals":"2"},"pkr":{"name":"Pakistani Rupee","rate":"221.28272588838","left":"\u20a8 ","decimals":"2"},"pab":{"name":"Panamanian Balboa","rate":"1.0031853496115","decimals":"2"},"pgk":{"name":"Papua New Guinean kina","rate":"3.5413997812842","left":"K","decimals":"2"},"pyg":{"name":"Paraguayan Guaran\u00ed","rate":"7197.3142904731","right":"\u20b2","decimals":"0","point":"."},"pen":{"name":"Peruvian Nuevo Sol","rate":"3.8291408650431","decimals":"2"},"php":{"name":"Philippine Peso","rate":"57.310616374611","decimals":"2"},"pln":{"name":"Polish Zloty","rate":"4.5374384126317","decimals":"2"},"qar":{"name":"Qatari Rial","rate":"3.6680569619225","decimals":"2"},"ron":{"name":"Romanian New Leu","rate":"4.7674707938335","decimals":"2"},"rub":{"name":"Russian Rouble","rate":"62.762170116324","decimals":"2"},"rwf":{"name":"Rwandan franc","rate":"1056.8065268065","decimals":"0"},"svc":{"name":"Salvadoran colon","rate":"8.7981758199108","decimals":"2"},"wst":{"name":"Samoan tala","rate":"2.7428761570573","decimals":"2"},"stn":{"name":"S\u00e3o Tom\u00e9 and Pr\u00edncipe Dobra","rate":"23.899314707432","decimals":"2"},"sar":{"name":"Saudi Riyal","rate":"3.7586878025118","decimals":"2"},"rsd":{"name":"Serbian Dinar","rate":"117.51394856072","decimals":"2"},"scr":{"name":"Seychelles rupee","rate":"13.365860849057","decimals":"2"},"sgd":{"name":"Singapore Dollar","rate":"1.3732831310237","left":"S$ ","decimals":"2"},"sbd":{"name":"Solomon Islands dollar","rate":"8.3156639765225","decimals":"2"},"sos":{"name":"Somali shilling","rate":"571.35475740388","decimals":"2"},"zar":{"name":"South African Rand","rate":"17.28953385097","left":"R ","decimals":"2"},"krw":{"name":"South Korean Won","rate":"1340.0267234437","left":"\u20a9","decimals":"2"},"ssp":{"name":"South Sudanese pound","rate":"618.09134287659","decimals":"2"},"lkr":{"name":"Sri Lanka Rupee","rate":"368.30539854092","decimals":"2"},"sdg":{"name":"Sudanese pound","rate":"566.71249999999","decimals":"2"},"srd":{"name":"Surinamese dollar","rate":"30.883514986376","decimals":"2"},"szl":{"name":"Swazi lilangeni","rate":"17.363845270011","decimals":"2"},"sek":{"name":"Swedish Krona","rate":"10.605151450858","left":"kr ","decimals":"2"},"syp":{"name":"Syrian pound","rate":"2518.7222222222","decimals":"2"},"tjs":{"name":"Tajikistan Ruble","rate":"10.218560653937"},"tzs":{"name":"Tanzanian shilling","rate":"2344.208893485","decimals":"2"},"thb":{"name":"Thai Baht","rate":"36.434769761593","left":"\u0e3f","decimals":"2"},"top":{"name":"Tongan pa\u02bbanga","rate":"2.3952345731191","decimals":"2"},"ttd":{"name":"Trinidad Tobago Dollar","rate":"6.8247779617642","decimals":"2"},"tnd":{"name":"Tunisian Dinar","rate":"3.2388931322428","decimals":"2"},"try":{"name":"Turkish Lira","rate":"18.618802611638","decimals":"2"},"aed":{"name":"U.A.E Dirham","rate":"3.6742224244767","decimals":"2"},"ugx":{"name":"Ugandan shilling","rate":"3768.6616791354","decimals":"0"},"uah":{"name":"Ukrainian Hryvnia","rate":"36.553177417499"},"uyu":{"name":"Uruguayan Peso","rate":"39.923076666842","left":"U$ ","decimals":"2","point":"."},"uzs":{"name":"Uzbekistan Sum","rate":"11184.114388264"},"vuv":{"name":"Vanuatu vatu","rate":"122.06068438198","decimals":"2"},"ves":{"name":"Venezuelan Bolivar","rate":"9.5867927195904","decimals":"2","point":"."},"vnd":{"name":"Vietnamese Dong","rate":"24808.999495143","right":"\u20ab","decimals":"0"},"xof":{"name":"West African CFA Franc","rate":"633.45527162856","decimals":"2"},"yer":{"name":"Yemeni rial","rate":"251.45313366611","decimals":"2"},"zmw":{"name":"Zambian kwacha","rate":"16.576599634369","decimals":"2"}}; // var frForms = new Array(); function frExCalc(inverseCalc) { } function frCalcRate(formObj, inverseCalc) { if (formObj) { // form exists and we can proceed var baseCurObj = formObj.base_currency; var targetCurObj = formObj.target_currency; var baseValueObj = formObj.base_value; var targetValueObj = formObj.target_value; if (baseCurObj && targetCurObj && baseValueObj && targetValueObj) { if (baseCurObj.type == "select-one") { var baseCurrency = baseCurObj.options[baseCurObj.selectedIndex].value.toLowerCase(); } else { var baseCurrency = baseCurObj.value; } if (targetCurObj.type == "select-one") { var targetCurrency = targetCurObj.options[targetCurObj.selectedIndex].value.toLowerCase(); } else { var targetCurrency = targetCurObj.value; } var targetExRate = frCrExRs[targetCurrency]["rate"] / frCrExRs[baseCurrency]["rate"]; var targetValue = targetValueObj.value; var baseValue = baseValueObj.value; if (inverseCalc) { if (!targetValue || isNaN(targetValue)) { baseValueObj.value = ""; } else { baseValueObj.value = frFormatNumber(targetValue / targetExRate, 2, ".", ""); } } else { if (!baseValue || isNaN(baseValue)) { targetValueObj.value = ""; } else { targetValueObj.value = frFormatNumber(baseValue * targetExRate, 2, ".", ""); } } } } } function frFormatNumber(numberValue, decimals, decimalPoint, thousandsSeparator) { if (decimals == undefined) { decimals = 0; } if (thousandsSeparator == undefined) { thousandsSeparator = ","; } var numberParts = ""; var roundValue = 1; for (var d = 0; d < decimals; d++) { roundValue *= 10; } numberValue = Math.round(numberValue * roundValue) / roundValue; var numberSign = ""; if (numberValue < 0) { numberSign = "-"; numberValue = Math.abs(numberValue); } var numberText = new String(numberValue); var numberParts = numberText.split("."); var beforeDecimal = numberParts[0]; var afterDecimal = ""; numberText = ""; if (numberParts.length == 2) { afterDecimal = numberParts[1]; } while (beforeDecimal.length > 0) { if (beforeDecimal.length > 3) { numberText = thousandsSeparator + beforeDecimal.substring(beforeDecimal.length - 3, beforeDecimal.length) + numberText; beforeDecimal = beforeDecimal.substring(0, beforeDecimal.length - 3); } else { numberText = beforeDecimal + numberText; beforeDecimal = ""; } } if (decimals > 0) { while (afterDecimal.length < decimals) { afterDecimal += "0"; } if (decimalPoint == undefined) { decimalPoint = "."; } numberText += decimalPoint + afterDecimal; } numberText = numberSign + numberText; return numberText; } //document.getElementById("myBtn").addEventListener("click", function() { myFunction(p1, p2);}); function frInit() { // check all available forms on page var frForms = new Array(); var formIndex = ""; var formObj = document.getElementById("frConverter"); if (formObj) { // empty form exists frForms[frForms.length] = formObj; } formIndex = 1; formObj = document.getElementById("frConverter1"); while (formObj) { frForms[frForms.length] = formObj; formIndex++; formObj = document.getElementById("frConverter" + formIndex); } var objs = document.getElementsByClassName("frConverter"); for (var ob = 0; ob < objs.length; ob++) { formObj = objs[ob]; if (formObj) { frForms[frForms.length] = formObj; } } //if (form[i].type == "text" || form[i].type == "hidden" || form[i].type == "select-one") { // check link first and add it if it does not exists for (var f = 0; f < frForms.length; f++) { (function () { formObj = frForms[f]; var passObj = formObj; var isLink = true; var linkObj = document.getElementById("frLink"); if (!linkObj) { objs = formObj.getElementsByClassName("frLink"); if (objs && objs[0]) { linkObj = objs[0]; } } var linkHref = ""; if (linkObj) { linkHref = linkObj.href; } var hrefRegex = /floatrates.com/i; if (!linkObj || !hrefRegex.exec(linkHref)) { isLink = false; } else { var linkTitle = linkObj.innerHTML.toLowerCase(); var regex = /currency\s*converter|exchange\s*rates|convert/i; if (!regex.exec(linkTitle)) { isLink = false; } } if (!isLink) { formObj.innerHTML = formObj.innerHTML + ("Exchange Rates"); } // populate select box controls if they empty var selectedOpt = false; var totalOptions = 0; var baseCurObj = formObj.base_currency; var targetCurObj = formObj.target_currency; var baseValObj = formObj.base_value; var targetValObj = formObj.target_value; if (baseCurObj && baseCurObj.type == "select-one") { totalOptions = baseCurObj.options.length; if (totalOptions == 0) { var defaultBase = ""; if (formObj.default_base) { defaultBase = formObj.default_base.value; } for (var curCode in frCrExRs) { if (defaultBase.toLowerCase() == curCode) { selectedOpt = true; } else { selectedOpt = false; } baseCurObj.options[baseCurObj.options.length] = new Option(frCrExRs[curCode]["name"], curCode); if (selectedOpt) { baseCurObj.options[baseCurObj.options.length - 1].selected = true; } } } } if (targetCurObj && targetCurObj.type == "select-one") { totalOptions = targetCurObj.options.length; if (totalOptions == 0) { var defaultTarget = ""; if (formObj.default_target) { defaultTarget = formObj.default_target.value; } for (var curCode in frCrExRs) { if (defaultTarget.toLowerCase() == curCode) { selectedOpt = true; } else { selectedOpt = false; } targetCurObj.options[targetCurObj.options.length] = new Option(frCrExRs[curCode]["name"], curCode); if (selectedOpt) { targetCurObj.options[targetCurObj.options.length - 1].selected = true; } } } } // end populate controls // add events to currency controls if (baseCurObj) { baseCurObj.addEventListener("change", function() { frCalcRate(passObj, false); } ); baseCurObj.addEventListener("keyup", function() { frCalcRate(passObj, false); } ); } if (targetCurObj) { targetCurObj.addEventListener("change", function() { frCalcRate(passObj, false); } ); targetCurObj.addEventListener("keyup", function() { frCalcRate(passObj, false); } ); } if (baseValObj) { baseValObj.addEventListener("keyup", function() { frCalcRate(passObj, false); } ); } if (targetValObj) { targetValObj.addEventListener("keyup", function() { frCalcRate(passObj, true); } ); } // calculate initial rate frCalcRate(formObj, false); }()) } var priceObjs = document.getElementsByClassName("frPrice"); for (var p = 0; p < priceObjs.length; p++) { var priceObj = priceObjs[p]; var priceValue = priceObj.getAttribute("data-value"); var baseCurrency = priceObj.getAttribute("data-base"); if (!baseCurrency) { baseCurrency = "usd"; } baseCurrency = baseCurrency.toLowerCase(); var targetCurrency = priceObj.getAttribute("data-target"); if (!targetCurrency) { targetCurrency = "usd"; } targetCurrency = targetCurrency.toLowerCase(); if (priceValue && !isNaN(priceValue) && frCrExRs[baseCurrency] && frCrExRs[targetCurrency]) { var cLeft = ""; var cRight = ""; var cDecimals = ""; var cPoint = ""; var cSeparator = ""; if (priceObj.hasAttribute("data-left") || priceObj.hasAttribute("data-right")) { if (priceObj.hasAttribute("data-left")) { cLeft = priceObj.getAttribute("data-left"); } if (priceObj.hasAttribute("data-right")) { cRight = priceObj.getAttribute("data-right"); } } else { if (frCrExRs[targetCurrency]["left"]) { cLeft = frCrExRs[targetCurrency]["left"]; } if (frCrExRs[targetCurrency]["right"]) { cRight = frCrExRs[targetCurrency]["right"]; } } if (priceObj.hasAttribute("data-decimals")) { cDecimals = priceObj.getAttribute("data-decimals"); } else if (frCrExRs[targetCurrency]["decimals"]) { cDecimals = frCrExRs[targetCurrency]["decimals"]; } if (priceObj.hasAttribute("data-point")) { cPoint = priceObj.getAttribute("data-point"); } else if (frCrExRs[targetCurrency]["point"]) { cPoint = frCrExRs[targetCurrency]["point"]; } else { cPoint = "."; } if (priceObj.hasAttribute("data-separator")) { cSeparator = priceObj.getAttribute("data-separator"); } else if (frCrExRs[targetCurrency]["separator"]) { cSeparator = frCrExRs[targetCurrency]["separator"]; } // show target value var targetRate = frCrExRs[targetCurrency]["rate"] / frCrExRs[baseCurrency]["rate"]; priceObj.innerHTML = cLeft + frFormatNumber((priceValue*targetRate), cDecimals, cPoint, cSeparator) + cRight; } } } frInit(); //frExCalc();